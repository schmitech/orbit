# To enable this adapter in orbit, copy this configuration to /config/adapters/intent.yaml
# and set the enabled flag to true.
  - name: "intent-duckdb-ev-population"
    enabled: true
    type: "retriever"
    datasource: "duckdb"
    adapter: "intent"
    implementation: "retrievers.implementations.intent.IntentDuckDBRetriever"
    database: "utils/duckdb-intent-template/examples/ev-population/ev_population.duckdb"
    inference_provider: "openai"
    model: "gpt-5.2"
    embedding_provider: "openai"
    config:
      # Path to the domain definition file
      domain_config_path: "utils/duckdb-intent-template/examples/ev-population/ev_population_domain.yaml"
      template_library_path:
        - "utils/duckdb-intent-template/examples/ev-population/ev_population_templates.yaml"

      # Name for the vector store collection for templates
      template_collection_name: "duckdb_ev_population_templates"
      # Store configuration - references stores.yaml
      store_name: "chroma"
      confidence_threshold: 0.4

      # Maximum templates to consider
      max_templates: 5

      # Return top N results
      return_results: 100

      # Template loading settings
      reload_templates_on_start: true  # Reload templates on startup for new deployment
      force_reload_templates: true     # Force reload to pick up template changes

      # DuckDB-specific configuration
      read_only: true  # Allow concurrent reads from multiple processes
      access_mode: "READ_ONLY"  # Multiple processes can read simultaneously
      threads: null  # Use default thread count

      # Query monitoring (automatically provided by unified base)
      enable_query_monitoring: true
      query_timeout: 5000  # 5 seconds