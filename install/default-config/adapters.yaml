# Adapter configurations for ORBIT
# This file imports all adapter definitions organized by category
#
# Provider Overrides:
# Each adapter can optionally override the global providers:
#   - inference_provider: Override which LLM to use (e.g., "ollama", "anthropic", "openai")
#   - embedding_provider: Override which embedding service to use (for retriever adapters)
#   - reranker_provider: Override which reranker to use
#   - model: Override specific model within a provider
#
# Capability-Based Architecture:
# Adapters support explicit capability declarations for cleaner, more maintainable code.
# Capabilities control retrieval behavior, formatting, and parameter handling without hardcoded checks.
#
# Available Capabilities:
#   retrieval_behavior: "none" | "always" | "conditional"
#     - Controls when context retrieval occurs
#     - "none": No retrieval (pure passthrough)
#     - "always": Always retrieve context (QA, Intent, File adapters)
#     - "conditional": Retrieve based on conditions (e.g., only when file_ids present)
#
#   formatting_style: "standard" | "clean" | "custom"
#     - Controls how retrieved documents are formatted
#     - "standard": Include citations and confidence scores (e.g., [1], [2])
#     - "clean": No citations or metadata (prevents LLM from adding citation markers)
#     - "custom": Use custom formatting function
#
#   supports_file_ids: true | false
#     - Whether adapter accepts file_ids parameter for filtering by specific files
#     - Used by file-based and multimodal adapters
#
#   supports_session_tracking: true | false
#     - Whether adapter needs session_id parameter passed to retriever
#     - Used for: analytics, telemetry, session-level logging, conversation tracking
#     - Most adapters don't need this (stateless queries)
#     - Useful for observability and multi-turn conversation analytics
#
#   requires_api_key_validation: true | false
#     - Whether adapter needs API key for authentication/authorization
#     - Used to validate file ownership or access permissions
#
#   skip_when_no_files: true | false
#     - For conditional retrieval: skip retrieval when file_ids is empty
#     - Only applicable when retrieval_behavior is "conditional"
#
#   optional_parameters: ["param1", "param2"]
#     - List of additional parameters to pass from context to retriever
#     - Parameters are only passed if present in the request context
#
# Note: Capabilities are OPTIONAL. If not specified, they are automatically inferred from adapter type.

# Initialize empty adapters list - will be populated by imported category files
adapters: []

# Import all adapter categories (their adapters lists will be concatenated)
import:
  - "adapters/passthrough.yaml"
  - "adapters/multimodal.yaml"
  - "adapters/audio.yaml"
  - "adapters/qa.yaml"
  - "adapters/intent.yaml"
  - "adapters/file.yaml"
