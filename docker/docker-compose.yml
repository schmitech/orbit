services:
  # FastAPI server
  orbit-server:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    image: orbit-server:latest
    container_name: orbit-server
    ports:
      - "${ORBIT_PORT:-3000}:${ORBIT_PORT:-3000}"
    volumes:
      - ./config:/app/config
      - ../logs:/app/logs
      - ../models:/app/models
    env_file:
      - ./.env
    environment:
      - CONFIG_PATH=/app/config/config.yaml
    restart: unless-stopped
    networks:
      - orbit-network

networks:
  orbit-network:
    driver: bridge