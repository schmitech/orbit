<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure On-Premise LLM Deployment with RAG - Data Privacy Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-gradient-start: #eef2ff;
            --bg-gradient-end: #f8f9ff;
            --panel-background: #ffffff;
            --panel-border: rgba(142, 164, 252, 0.35);
            --heading-color: #1f2937;
            --subheading-color: #4b5563;
            --grid-line: rgba(15, 23, 42, 0.05);
            --text-muted: #495057;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
            min-height: 100vh;
            padding: 32px;
            color: var(--heading-color);
        }
        
        .container {
            max-width: 1380px;
            margin: 0 auto;
            background: var(--panel-background);
            border-radius: 28px;
            padding: 40px 48px;
            box-shadow: 0 35px 80px rgba(15, 23, 42, 0.18);
            border: 1px solid var(--panel-border);
        }
        
        h1 {
            text-align: center;
            color: var(--heading-color);
            margin-bottom: 12px;
            font-size: 2.35em;
            letter-spacing: 0.5px;
        }
        
        .subtitle {
            text-align: center;
            color: var(--subheading-color);
            margin-bottom: 36px;
            font-size: 1.18em;
            letter-spacing: 0.25px;
        }
        
        .diagram-container {
            width: 100%;
            height: 780px;
            position: relative;
            background: #f8fafc;
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        
        svg {
            width: 100%;
            height: 100%;
        }
        
        .zone {
            stroke-width: 2;
            fill-opacity: 0.12;
            stroke-dasharray: 10 8;
        }
        
        .zone-dmz {
            stroke: #d63031;
        }
        
        .zone-internal {
            stroke: #0984e3;
        }
        
        .zone-secure {
            stroke: #00b894;
        }
        
        .zone-label {
            font-weight: 700;
            font-size: 15px;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            text-anchor: middle;
            dominant-baseline: middle;
        }
        
        .component {
            cursor: pointer;
            transition: transform 0.25s ease;
            transform-box: fill-box;
            transform-origin: center;
        }
        
        .component:hover {
            transform: translateY(-6px);
        }
        
        .component-box {
            stroke-width: 2.2;
            rx: 14;
            ry: 14;
            filter: drop-shadow(0 8px 18px rgba(15, 23, 42, 0.12));
            transition: filter 0.25s ease;
        }
        
        .component:hover .component-box {
            filter: drop-shadow(0 16px 32px rgba(15, 23, 42, 0.22));
        }
        
        .firewall {
            fill: #ff6b6b;
            stroke: #c92a2a;
        }
        
        .server {
            fill: #4c6ef5;
            stroke: #364fc7;
        }
        
        .database {
            fill: #15aabf;
            stroke: #0c8599;
        }
        
        .security {
            fill: #fa5252;
            stroke: #c92a2a;
        }
        
        .ai-component {
            fill: #7950f2;
            stroke: #5f3dc4;
        }
        
        .data-flow {
            stroke: #2ecc71;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead-green);
            stroke-dasharray: 5,3;
            animation: flow 2s linear infinite;
            stroke-linecap: round;
        }
        
        .secure-flow {
            stroke: #ff6b6b;
            stroke-width: 3;
            fill: none;
            marker-end: url(#arrowhead-red);
            stroke-linecap: round;
        }
        
        @keyframes flow {
            to {
                stroke-dashoffset: -8;
            }
        }
        
        .icon {
            font-size: 24px;
        }
        
        .zone-divider {
            stroke: var(--grid-line);
            stroke-width: 2;
            stroke-dasharray: 6 10;
        }
        
        .zone-header {
            fill: rgba(255, 255, 255, 0.9);
            stroke: rgba(15, 23, 42, 0.08);
        }
        
        .component-text {
            font-size: 13px;
            text-anchor: middle;
            dominant-baseline: middle;
            fill: white;
            font-weight: 600;
            letter-spacing: 0.2px;
        }
        
        .description-text {
            font-size: 11px;
            fill: var(--text-muted);
            text-anchor: middle;
            letter-spacing: 0.15px;
        }
        
        .badge {
            fill: rgba(15, 23, 42, 0.08);
            stroke: rgba(15, 23, 42, 0.18);
            stroke-width: 1;
            rx: 14;
            ry: 14;
        }
        
        .badge-text {
            font-size: 11.5px;
            fill: var(--heading-color);
            text-anchor: middle;
            dominant-baseline: middle;
            font-weight: 600;
            letter-spacing: 0.2px;
        }
        
        .badge--green {
            fill: rgba(16, 185, 129, 0.18);
            stroke: rgba(5, 150, 105, 0.45);
        }
        
        .badge--red {
            fill: rgba(248, 113, 113, 0.22);
            stroke: rgba(220, 38, 38, 0.4);
        }
        
        .badge--blue {
            fill: rgba(59, 130, 246, 0.2);
            stroke: rgba(37, 99, 235, 0.4);
        }
        
        .badge-text--inverse {
            fill: #0f172a;
        }
        
        .key-points {
            margin-top: 36px;
            padding: 26px 30px;
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(99, 102, 241, 0.05));
            border-radius: 16px;
            border-left: 5px solid #7c3aed;
            box-shadow: 0 18px 35px rgba(99, 102, 241, 0.1);
        }
        
        .key-points--notes {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.18), rgba(254, 240, 138, 0.28));
            border-left-color: #f59e0b;
            box-shadow: 0 18px 35px rgba(245, 158, 11, 0.18);
        }
        
        .key-points h3 {
            color: var(--heading-color);
            margin-bottom: 18px;
            font-size: 1.32em;
            letter-spacing: 0.3px;
        }
        
        .key-points ul {
            list-style: none;
            padding-left: 0;
        }
        
        .key-points li {
            --bullet-symbol: "üîí";
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
            color: var(--text-muted);
            line-height: 1.65;
        }
        
        .key-points li:before {
            content: var(--bullet-symbol);
            position: absolute;
            left: 0;
            font-size: 1.05em;
        }
        
        .tooltip {
            position: absolute;
            background: rgba(15, 23, 42, 0.92);
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(4px);
            z-index: 1000;
            box-shadow: 0 16px 32px rgba(15, 23, 42, 0.28);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Secure On-Premise LLM Deployment Architecture</h1>
        <p class="subtitle">Data Privacy & Security for Classified/Protected Information with RAG</p>
        
        <div class="diagram-container">
            <svg viewBox="0 0 1200 750">
                <!-- Define arrow markers -->
                <defs>
                    <linearGradient id="zoneDMZ" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#ffb5b5" stop-opacity="0.28"/>
                        <stop offset="100%" stop-color="#ff7676" stop-opacity="0.08"/>
                    </linearGradient>
                    <linearGradient id="zoneInternal" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#a5c9ff" stop-opacity="0.26"/>
                        <stop offset="100%" stop-color="#74b9ff" stop-opacity="0.08"/>
                    </linearGradient>
                    <linearGradient id="zoneSecure" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#80ffdb" stop-opacity="0.28"/>
                        <stop offset="100%" stop-color="#55efc4" stop-opacity="0.08"/>
                    </linearGradient>
                    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                        <path d="M0,0 L0,6 L9,3 z" fill="#2ecc71" />
                    </marker>
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                        <path d="M0,0 L0,6 L9,3 z" fill="#e74c3c" />
                    </marker>
                </defs>
                
                <!-- Network Zones -->
                <!-- DMZ Zone -->
                <rect class="zone zone-dmz" x="50" y="50" width="250" height="650" fill="url(#zoneDMZ)" />
                <rect class="zone-header" x="60" y="60" width="230" height="48" rx="14" ry="14" />
                <text x="175" y="84" class="zone-label" fill="#d63031">DMZ ZONE</text>
                
                <!-- Internal Network Zone -->
                <rect class="zone zone-internal" x="350" y="50" width="400" height="650" fill="url(#zoneInternal)" />
                <rect class="zone-header" x="370" y="60" width="360" height="48" rx="14" ry="14" />
                <text x="550" y="84" class="zone-label" fill="#0984e3">INTERNAL NETWORK</text>
                
                <!-- Secure Processing Zone -->
                <rect class="zone zone-secure" x="800" y="50" width="350" height="650" fill="url(#zoneSecure)" />
                <rect class="zone-header" x="820" y="60" width="310" height="48" rx="14" ry="14" />
                <text x="975" y="84" class="zone-label" fill="#00b894">SECURE AI PROCESSING</text>
                
                <!-- Zone Dividers -->
                <line class="zone-divider" x1="300" y1="50" x2="300" y2="700" />
                <line class="zone-divider" x1="750" y1="50" x2="750" y2="700" />
                
                <!-- Components -->
                
                <!-- External Firewall (box: x=90, width=170, center=175) -->
                <g class="component">
                    <rect class="component-box firewall" data-component="External Firewall" x="90" y="120" width="170" height="60" />
                    <text class="component-text" x="175" y="145">External Firewall</text>
                    <text class="component-text" x="175" y="165">WAF + IDS/IPS</text>
                </g>
                
                <!-- Load Balancer -->
                <g class="component">
                    <rect class="component-box server" data-component="Load Balancer" x="90" y="210" width="170" height="60" />
                    <text class="component-text" x="175" y="235">Load Balancer</text>
                    <text class="component-text" x="175" y="255">SSL/TLS Termination</text>
                </g>
                
                <!-- API Gateway -->
                <g class="component">
                    <rect class="component-box server" data-component="API Gateway" x="90" y="300" width="170" height="60" />
                    <text class="component-text" x="175" y="325">API Gateway</text>
                    <text class="component-text" x="175" y="345">Rate Limiting</text>
                </g>
                
                <!-- Internal Firewall (box: x=390, width=170, center=475) -->
                <g class="component">
                    <rect class="component-box firewall" data-component="Internal Firewall" x="390" y="120" width="170" height="60" />
                    <text class="component-text" x="475" y="145">Internal Firewall</text>
                    <text class="component-text" x="475" y="165">Micro-segmentation</text>
                </g>
                
                <!-- Authentication Server -->
                <g class="component">
                    <rect class="component-box security" data-component="Auth Server" x="390" y="210" width="170" height="60" />
                    <text class="component-text" x="475" y="235">Auth Server</text>
                    <text class="component-text" x="475" y="255">LDAP/SSO/MFA</text>
                </g>
                
                <!-- Application Server -->
                <g class="component">
                    <rect class="component-box server" data-component="Application Server" x="390" y="300" width="170" height="60" />
                    <text class="component-text" x="475" y="325">Application Server</text>
                    <text class="component-text" x="475" y="345">Business Logic</text>
                </g>
                
                <!-- Data Encryption Gateway (box: x=590, width=140, center=660) -->
                <g class="component">
                    <rect class="component-box security" data-component="Encryption" x="590" y="210" width="140" height="60" />
                    <text class="component-text" x="660" y="235">Encryption</text>
                    <text class="component-text" x="660" y="255">Gateway</text>
                </g>
                
                <!-- Audit & Logging -->
                <g class="component">
                    <rect class="component-box server" data-component="SIEM" x="590" y="300" width="140" height="60" />
                    <text class="component-text" x="660" y="325">SIEM</text>
                    <text class="component-text" x="660" y="345">Audit Logs</text>
                </g>
                
                <!-- Vector Database (box: x=405, width=140, center=475) -->
                <g class="component">
                    <rect class="component-box database" data-component="Vector DB" x="405" y="400" width="140" height="60" />
                    <text class="component-text" x="475" y="425">Vector DB</text>
                    <text class="component-text" x="475" y="445">Encrypted Storage</text>
                </g>
                
                <!-- Document Store (box: x=575, width=140, center=645) -->
                <g class="component">
                    <rect class="component-box database" data-component="Document Store" x="575" y="400" width="140" height="60" />
                    <text class="component-text" x="645" y="425">Document Store</text>
                    <text class="component-text" x="645" y="445">Classified Data</text>
                </g>
                
                <!-- RAG Pipeline (box: x=440, width=240, center=560) -->
                <g class="component">
                    <rect class="component-box ai-component" data-component="RAG Pipeline" x="440" y="500" width="240" height="60" />
                    <text class="component-text" x="560" y="525">RAG Pipeline</text>
                    <text class="component-text" x="560" y="545">Retrieval + Augmentation</text>
                </g>
                
                <!-- vLLM Server (box: x=840, width=270, center=975) -->
                <g class="component">
                    <rect class="component-box ai-component" data-component="vLLM / NVIDIA NIM" x="840" y="120" width="270" height="80" />
                    <text class="component-text" x="975" y="150">vLLM / NVIDIA NIM</text>
                    <text class="component-text" x="975" y="170">Local Inference Server</text>
                    <text class="component-text" x="975" y="190">GPU Cluster</text>
                </g>
                
                <!-- Model Repository -->
                <g class="component">
                    <rect class="component-box database" data-component="Model Repository" x="840" y="230" width="270" height="60" />
                    <text class="component-text" x="975" y="255">Model Repository</text>
                    <text class="component-text" x="975" y="275">Encrypted Model Weights</text>
                </g>
                
                <!-- Inference Cache -->
                <g class="component">
                    <rect class="component-box server" data-component="Inference Cache" x="840" y="320" width="270" height="60" />
                    <text class="component-text" x="975" y="345">Inference Cache</text>
                    <text class="component-text" x="975" y="365">Response Optimization</text>
                </g>
                
                <!-- Security Monitor -->
                <g class="component">
                    <rect class="component-box security" data-component="Security Monitor" x="840" y="410" width="270" height="60" />
                    <text class="component-text" x="975" y="435">Security Monitor</text>
                    <text class="component-text" x="975" y="455">DLP + Content Filtering</text>
                </g>
                
                <!-- Privacy Guard -->
                <g class="component">
                    <rect class="component-box security" data-component="Privacy Guard" x="840" y="500" width="270" height="60" />
                    <text class="component-text" x="975" y="525">Privacy Guard</text>
                    <text class="component-text" x="975" y="545">PII Detection/Masking</text>
                </g>
                
                <!-- Air Gap Indicator -->
                <g class="component">
                    <rect class="component-box security" data-component="Air-Gapped Environment" x="840" y="590" width="270" height="60" />
                    <text class="component-text" x="975" y="615">Air-Gapped Environment</text>
                    <text class="component-text" x="975" y="635">No External Network Access</text>
                </g>
                
                <!-- Data Flow Arrows -->
                <!-- User to DMZ -->
                <path class="data-flow" d="M 30 150 L 90 150" />
                <text class="description-text" x="40" y="140">User Request</text>
                
                <!-- DMZ to Internal -->
                <path class="data-flow" d="M 260 150 L 390 150" />
                <path class="data-flow" d="M 260 240 L 390 240" />
                <path class="data-flow" d="M 260 330 L 390 330" />
                
                <!-- Internal flows -->
                <path class="secure-flow" d="M 560 240 L 590 240" />
                <path class="secure-flow" d="M 475 360 L 475 400" />
                <path class="secure-flow" d="M 645 360 L 645 400" />
                
                <!-- To RAG -->
                <path class="secure-flow" d="M 475 460 L 560 500" />
                <path class="secure-flow" d="M 645 460 L 560 500" />
                
                <!-- To Secure Zone -->
                <path class="secure-flow" d="M 680 530 C 760 470, 800 320, 840 200" />
                <text class="description-text" x="760" y="300">Encrypted Query</text>
                
                <!-- Within Secure Zone -->
                <path class="secure-flow" d="M 975 200 L 975 230" />
                <path class="secure-flow" d="M 975 290 L 975 320" />
                <path class="secure-flow" d="M 975 380 L 975 410" />
                <path class="secure-flow" d="M 975 470 L 975 500" />
                
                <!-- Labels -->
                <rect class="badge" x="85" y="380" width="180" height="36" />
                <text class="badge-text" x="175" y="398">Zero Trust Architecture</text>
                
                <rect class="badge" x="85" y="480" width="180" height="36" />
                <text class="badge-text" x="175" y="498">mTLS Communication</text>
                
                <rect class="badge" x="85" y="580" width="180" height="36" />
                <text class="badge-text" x="175" y="598">DDoS Protection</text>
                
                <!-- Security Badges -->
                <g class="badge-group">
                    <rect class="badge badge--green" x="430" y="570" width="90" height="34" rx="18" ry="18" />
                    <text class="badge-text" x="475" y="587">RBAC</text>
                </g>
                
                <g class="badge-group">
                    <rect class="badge badge--red" x="520" y="570" width="90" height="34" rx="18" ry="18" />
                    <text class="badge-text" x="565" y="587">E2E TLS</text>
                </g>
                
                <g class="badge-group">
                    <rect class="badge badge--blue" x="610" y="570" width="120" height="34" rx="18" ry="18" />
                    <text class="badge-text" x="670" y="587">ISO 27001</text>
                </g>
            </svg>
        </div>
        
        <div class="key-points">
            <h3>üõ°Ô∏è Key Security & Privacy Features</h3>
            <ul>
                <li><strong>Complete Air-Gap Option:</strong> LLM inference runs in isolated environment with no external network connectivity, ensuring zero data leakage</li>
                <li><strong>End-to-End Encryption:</strong> All data encrypted at rest (AES-256) and in transit (TLS 1.3+) throughout the entire pipeline</li>
                <li><strong>Local Model Deployment:</strong> vLLM or NVIDIA NIM runs entirely on-premise with GPU acceleration - no cloud API calls</li>
                <li><strong>Zero Trust Architecture:</strong> Multi-layered security with micro-segmentation, ensuring least-privilege access</li>
                <li><strong>Data Loss Prevention (DLP):</strong> Automated PII detection, content filtering, and data classification before responses</li>
                <li><strong>Comprehensive Audit Trail:</strong> SIEM integration with complete logging of all access and inference requests</li>
                <li><strong>RAG Data Isolation:</strong> Vector database and document stores remain within security perimeter, never exposed externally</li>
                <li><strong>Multi-Factor Authentication:</strong> LDAP/SSO integration with MFA for all user and service accounts</li>
                <li><strong>Compliance Ready:</strong> Architecture supports GDPR, HIPAA, SOC2, ISO 27001, and government classification standards</li>
                <li><strong>Hardware Security:</strong> Support for TPM, HSM integration for key management and secure enclaves</li>
            </ul>
        </div>
        
        <div class="key-points key-points--notes">
            <h3>üí° Technical Implementation Notes</h3>
            <ul>
                <li style="--bullet-symbol:'üìä';">
                    <strong>vLLM Deployment:</strong> Optimized inference server with PagedAttention for efficient GPU memory usage, supporting models like Llama, Mistral, etc.
                </li>
                <li style="--bullet-symbol:'üöÄ';">
                    <strong>NVIDIA NIM Alternative:</strong> Enterprise-grade inference with TensorRT optimization and multi-GPU scaling
                </li>
                <li style="--bullet-symbol:'üîç';">
                    <strong>RAG Pipeline:</strong> Hybrid search combining dense vectors (embeddings) with sparse retrieval (BM25) for optimal context retrieval
                </li>
                <li style="--bullet-symbol:'‚ö°';">
                    <strong>Performance:</strong> Local caching layer reduces inference latency while maintaining security boundaries
                </li>
                <li style="--bullet-symbol:'üîê';">
                    <strong>Model Security:</strong> Encrypted model weights with secure boot verification and tamper detection
                </li>
            </ul>
        </div>
    </div>
    
    <script>
        // Add interactive tooltips
        const components = document.querySelectorAll('.component-box');
        const tooltip = document.createElement('div');
        tooltip.className = 'tooltip';
        document.body.appendChild(tooltip);
        
        const componentDetails = {
            'External Firewall': 'Stateful inspection firewall with IDS/IPS, DDoS protection, and Web Application Firewall capabilities',
            'Load Balancer': 'Distributes traffic across multiple servers with SSL/TLS termination and health monitoring',
            'API Gateway': 'Manages API traffic with authentication, rate limiting, and request validation',
            'Internal Firewall': 'Provides network micro-segmentation and east-west traffic inspection',
            'Auth Server': 'Centralized authentication with LDAP/AD integration, SSO, and multi-factor authentication',
            'Application Server': 'Runs business logic with secure session management and input validation',
            'Encryption': 'Hardware-accelerated encryption/decryption with key management service integration',
            'SIEM': 'Security Information and Event Management for real-time threat detection and compliance',
            'Vector DB': 'Stores document embeddings with encrypted indices for similarity search',
            'Document Store': 'Encrypted repository for classified documents with version control and access logging',
            'RAG Pipeline': 'Retrieves relevant context and augments prompts while preserving data boundaries',
            'vLLM / NVIDIA NIM': 'High-performance local inference with quantization support and batch processing',
            'Model Repository': 'Secure storage for model weights with versioning and rollback capabilities',
            'Inference Cache': 'Reduces latency by caching common inference patterns while maintaining security',
            'Security Monitor': 'Real-time monitoring for data leakage, anomaly detection, and policy enforcement',
            'Privacy Guard': 'Automatic PII detection, redaction, and compliance checking before output',
            'Air-Gapped Environment': 'Complete network isolation option for highest security requirements'
        };
        
        components.forEach(component => {
            component.addEventListener('mouseenter', (e) => {
                const componentName = e.currentTarget.dataset.component;
                if (componentName && componentDetails[componentName]) {
                    tooltip.textContent = componentDetails[componentName];
                    tooltip.style.opacity = '1';
                    tooltip.style.transform = 'translateY(0)';
                }
            });
            
            component.addEventListener('mousemove', (e) => {
                tooltip.style.left = e.pageX + 10 + 'px';
                tooltip.style.top = e.pageY - 30 + 'px';
            });
            
            component.addEventListener('mouseleave', () => {
                tooltip.style.opacity = '0';
                tooltip.style.transform = 'translateY(4px)';
            });
        });
        
        // Add click to highlight data flow
        let highlighted = false;
        document.querySelector('svg').addEventListener('click', () => {
            const flows = document.querySelectorAll('.data-flow, .secure-flow');
            if (!highlighted) {
                flows.forEach(flow => {
                    flow.style.strokeWidth = '4';
                    flow.style.filter = 'drop-shadow(0 0 5px currentColor)';
                });
            } else {
                flows.forEach(flow => {
                    flow.style.strokeWidth = '';
                    flow.style.filter = '';
                });
            }
            highlighted = !highlighted;
        });
    </script>
</body>
</html>
