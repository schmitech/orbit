domain_name: E-Commerce
description: Customer order management system

# NEW: Domain metadata for strategy selection
domain_type: ecommerce
semantic_types:
  order_identifier:
    description: "Unique identifier for an order"
    patterns: ["order", "id", "number", "#"]
    regex_patterns:
      - 'order\s+(?:number\s+|#\s*|id\s+)?(\d+)'
      - '#\s*(\d+)'
      - '\b(\d{4,})\b'  # 4+ digit numbers as fallback
  customer_identifier:
    description: "Unique identifier for a customer"
    patterns: ["customer", "client", "buyer", "user"]
    regex_patterns:
      - 'customer\s+(?:number\s+|#\s*|id\s+)?(\d+)'
      - 'customer\s*(\d{3,})'
  monetary_amount:
    description: "Currency amounts"
    patterns: ["amount", "total", "price", "cost", "sum"]
    regex_patterns:
      - '\$\s*(\d+(?:,\d{3})*(?:\.\d{2})?)'  # $500, $1,000.50
      - '(\d+(?:,\d{3})*(?:\.\d{2})?)\s*(?:dollars?|usd)'  # 500 dollars
      - '(?:above|below|over|under|than|exceeds?|less than|greater than)\s+\$?\s*(\d+(?:,\d{3})*(?:\.\d{2})?)\b(?!\s*days?)'
  time_period_days:
    description: "Time duration in days"
    patterns: ["days", "weeks", "months", "period", "time"]
    regex_patterns:
      - '(?:last|past|previous|within)\s+(\d+)\s+days?'
      - '(\d+)\s+days?\s+(?:ago|back)'
      - '(?:in|within)\s+(?:the\s+)?(?:last|past)\s+(\d+)\s+days?'
  person_name:
    description: "Customer or person name"
    patterns: ["name", "customer", "client", "buyer"]
    regex_patterns:
      - '"([^"]+)"'  # Quoted names
      - "'([^']+)'"  # Single quoted names
      - '\b([A-Z][a-z]+(?:\s+[A-Z][a-z]+)+)\b'  # Capitalized names
      - '(?:mr|mrs|ms|dr|prof)\.?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)'  # Names with titles
  email_address:
    description: "Email address"
    patterns: ["email", "mail", "contact"]
    regex_patterns:
      - '\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
  phone_number:
    description: "Phone number"
    patterns: ["phone", "tel", "mobile", "cell"]
    regex_patterns:
      - '\b(\d{3}[-.\s]?\d{3}[-.\s]?\d{4})\b'  # 123-456-7890
      - '\b\((\d{3})\)\s?(\d{3})[-.\s]?(\d{4})\b'  # (123) 456-7890
  status_value:
    description: "Order status or state"
    patterns: ["status", "state", "condition", "stage"]
    enum_values: ["pending", "processing", "shipped", "delivered", "cancelled", "refunded"]
  date_value:
    description: "Date values in various formats"
    patterns: ["date", "day", "time", "when", "on"]
    regex_patterns:
      - '\b\d{4}-\d{2}-\d{2}\b'  # YYYY-MM-DD
      - '\b\d{2}/\d{2}/\d{4}\b'  # MM/DD/YYYY
      - '\b\d{2}-\d{2}-\d{4}\b'  # DD-MM-YYYY
      - '\b(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{1,2}(?:st|nd|rd|th)?,?\s+\d{4}\b'
  city_name:
    description: "City or location names"
    patterns: ["city", "location", "area", "region"]
    regex_patterns:
      - '(?:in|from|at)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)(?:\s+city)?'
      - 'city\s+of\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)'
  payment_method:
    description: "Payment method types"
    patterns: ["payment", "pay", "paid", "method"]
    enum_values: ["credit_card", "debit_card", "paypal", "cash", "bank_transfer", "check"]

# Vocabulary for natural language understanding
vocabulary:
  entity_synonyms:
    customer: ["client", "buyer", "purchaser", "user", "account holder"]
    order: ["purchase", "transaction", "sale", "invoice", "receipt"]
  action_verbs:
    find: ["show", "list", "get", "find", "display", "retrieve", "lookup", "search"]
    calculate: ["sum", "total", "calculate", "compute", "aggregate", "count"]
    filter: ["filter", "only", "just", "where", "with", "having"]
    sort: ["sort", "order", "arrange", "rank"]
  field_synonyms:
    name: ["customer name", "client name", "buyer name"]
    total: ["amount", "sum", "grand total", "price"]
    status: ["state", "condition", "stage"]

entities:
  customer:
    name: customer
    entity_type: primary
    table_name: customers
    description: Customer information
    primary_key: id
    display_name_field: name
    searchable_fields:
    - name
    - email
    - phone
    common_filters:
    - city
    - country
    - created_at
    default_sort_field: created_at
    default_sort_order: DESC
  order:
    name: order
    entity_type: transaction
    table_name: orders
    description: Customer orders
    primary_key: id
    display_name_field: id
    searchable_fields:
    - id
    - status
    common_filters:
    - status
    - payment_method
    - order_date
    - total
    default_sort_field: order_date
    default_sort_order: DESC
fields:
  customer:
    id:
      name: id
      data_type: integer
      db_column: id
      description: Customer ID
      required: true
      searchable: true
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
    name:
      name: name
      data_type: string
      db_column: name
      description: Customer name
      required: true
      searchable: true
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases:
      - customer name
      - client name
      - buyer name
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: person_name
      summary_priority: 9
      extraction_hints:
        look_for_quotes: true
        capitalization_required: true
    email:
      name: email
      data_type: string
      db_column: email
      description: Customer email
      required: true
      searchable: true
      filterable: true
      sortable: true
      display_format: email
      validation_rules: []
      aliases: []
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: email_address
      summary_priority: 8
    phone:
      name: phone
      data_type: string
      db_column: phone
      description: Phone number
      required: false
      searchable: true
      filterable: true
      sortable: true
      display_format: phone
      validation_rules: []
      aliases: []
      enum_values: null
      semantic_type: phone_number
      summary_priority: 6
    city:
      name: city
      data_type: string
      db_column: city
      description: City
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
      semantic_type: city_name
      summary_priority: 5
    country:
      name: country
      data_type: string
      db_column: country
      description: Country
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
    created_at:
      name: created_at
      data_type: datetime
      db_column: created_at
      description: Customer creation date
      required: true
      searchable: false
      filterable: true
      sortable: true
      display_format: date
      validation_rules: []
      aliases: []
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: date_value
      summary_priority: 7
      extraction_hints:
        formats: ["YYYY-MM-DD", "DD-MM-YYYY", "MM/DD/YYYY", "Month DD, YYYY"]
        relative_terms: ["today", "yesterday", "this week", "last month"]
  order:
    id:
      name: id
      data_type: integer
      db_column: id
      description: Order ID
      required: true
      searchable: true
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: order_identifier
      summary_priority: 10
      extraction_hints:
        patterns: ["order #", "order number", "#"]
        numeric_required: true
    customer_id:
      name: customer_id
      data_type: integer
      db_column: customer_id
      description: Customer ID
      required: true
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
      semantic_type: customer_identifier
      summary_priority: 8
    order_date:
      name: order_date
      data_type: datetime
      db_column: order_date
      description: Order date
      required: true
      searchable: false
      filterable: true
      sortable: true
      display_format: date
      validation_rules: []
      aliases: []
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: date_value
      summary_priority: 9
      extraction_hints:
        formats: ["YYYY-MM-DD", "DD-MM-YYYY", "MM/DD/YYYY", "Month DD, YYYY"]
        relative_terms: ["today", "yesterday", "this week", "last month"]
        patterns: ["on", "from", "since", "after", "before"]
    total:
      name: total
      data_type: decimal
      db_column: total
      description: Order total amount
      required: true
      searchable: false
      filterable: true
      sortable: true
      display_format: currency
      validation_rules: []
      aliases: []
      enum_values: null
      # NEW: Semantic metadata
      semantic_type: monetary_amount
      summary_priority: 8
      extraction_hints:
        currency_symbols: ["$", "USD", "dollars"]
        decimal_places: 2
    status:
      name: status
      data_type: enum
      db_column: status
      description: Order status
      required: true
      searchable: true
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values:
      - pending
      - processing
      - shipped
      - delivered
      - cancelled
      # NEW: Semantic metadata
      semantic_type: status_value
      summary_priority: 8
    payment_method:
      name: payment_method
      data_type: enum
      db_column: payment_method
      description: Payment method
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values:
      - credit_card
      - debit_card
      - paypal
      - bank_transfer
      - cash
      semantic_type: payment_method
      summary_priority: 7
    shipping_address:
      name: shipping_address
      data_type: string
      db_column: shipping_address
      description: Shipping address
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
    shipping_city:
      name: shipping_city
      data_type: string
      db_column: shipping_city
      description: Shipping city
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
      semantic_type: city_name
      summary_priority: 4
    shipping_country:
      name: shipping_country
      data_type: string
      db_column: shipping_country
      description: Shipping country
      required: false
      searchable: false
      filterable: true
      sortable: true
      display_format: null
      validation_rules: []
      aliases: []
      enum_values: null
relationships:
- name: customer_orders
  from_entity: customer
  to_entity: order
  relation_type: one_to_many
  from_field: id
  to_field: customer_id
  join_type: INNER
  description: Customer has many orders
query_patterns: []
vocabulary:
  entity_synonyms:
    customer:
    - client
    - buyer
    - user
    - purchaser
    - shopper
    order:
    - purchase
    - transaction
    - sale
    - invoice
  action_verbs:
    find:
    - show
    - list
    - get
    - find
    - display
    - retrieve
    calculate:
    - sum
    - total
    - calculate
    - compute
    - aggregate
    filter:
    - filter
    - only
    - just
    - where
    - with
  time_expressions:
    today: '0'
    yesterday: '1'
    this week: '7'
    last week: '14'
    this month: '30'
    last month: '60'
    this year: '365'
  date_formats:
    iso_date: 'YYYY-MM-DD'
    european_date: 'DD-MM-YYYY'
    us_date: 'MM/DD/YYYY'
    us_date_dash: 'MM-DD-YYYY'
    natural_date: 'Month DD, YYYY'
    short_date: 'Mon DD, YYYY'
  value_expressions: {}
  common_phrases:
    date_phrases:
      - "on [date]"
      - "from [date]"
      - "since [date]"
      - "after [date]"
      - "before [date]"
      - "between [date] and [date]"
      - "from [date] to [date]"
    date_examples:
      - "on July 20th 2025"
      - "from 20-09-2025"
      - "since 2025-07-20"
      - "after 09/20/2025"
      - "before 20-07-2025"
metadata: {}
