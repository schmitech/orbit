# NATO Classification Conversion API Domain Configuration
# This domain configuration defines the NATO API schema for intent-based retrieval

domain_name: NATO Classification Conversion API
domain_type: graphql
version: "1.0.0"
description: NATO security classification conversion service for converting classifications between member nations

api_config:
  base_url: "https://security-converter.obrienlabs.dev"
  graphql_endpoint: "/graphql"
  protocol: "https"
  supports_introspection: true
  default_timeout: 30
  requires_authentication: true
  authentication_type: "bearer_token"

# Entity definitions for NATO API
entities:
  nation:
    name: nation
    entity_type: resource
    graphql_type: Nation
    primary_key: id
    display_name_field: nationName
    description: "NATO member nations and their classification terminology"
    searchable_fields:
      - nationCode
      - nationName
    common_filters:
      - field: nationCode
        type: string
        values: ["USA", "GBR", "FRA", "DEU", "POL", "CAN", "ITA", "ESP", "NLD", "BEL"]

  classification_schema:
    name: classification_schema
    entity_type: resource
    graphql_type: ClassificationSchema
    primary_key: id
    display_name_field: nationCode
    description: "Mapping between nation classification levels and NATO standards"
    searchable_fields:
      - nationCode
    common_filters:
      - field: nationCode
        type: string
        values: ["USA", "GBR", "FRA", "DEU", "POL", "CAN", "ITA", "ESP", "NLD", "BEL"]

  conversion_request:
    name: conversion_request
    entity_type: resource
    graphql_type: ConversionRequest
    primary_key: id
    display_name_field: id
    description: "Request to convert security classifications between nations"
    searchable_fields:
      - sourceNationCode
      - sourceNationClassification
      - targetNationCodes
    common_filters:
      - field: sourceNationCode
        type: string
        values: ["USA", "GBR", "FRA", "DEU", "POL", "CAN", "ITA", "ESP", "NLD", "BEL"]
      - field: completedAt
        type: datetime
        description: "Filter by completion status"

  conversion_response:
    name: conversion_response
    entity_type: resource
    graphql_type: ConversionResponse
    primary_key: id
    display_name_field: id
    description: "Result of a classification conversion request"
    searchable_fields:
      - natoEquivalent
      - targetNationClassifications
    common_filters:
      - field: expiresAt
        type: datetime
        description: "Filter by expiration date"

# Field definitions for detailed schema information
fields:
  nation:
    id:
      name: id
      data_type: UUID
      graphql_type: ID
      description: "Unique nation identifier"
      required: true
      searchable: false
    nationCode:
      name: nationCode
      data_type: string
      graphql_type: String
      description: "ISO country code (e.g., USA, GBR, FRA)"
      required: true
      searchable: true
      summary_priority: 10
    nationName:
      name: nationName
      data_type: string
      graphql_type: String
      description: "Full name of the nation"
      required: true
      searchable: true
      summary_priority: 9

  classification_schema:
    id:
      name: id
      data_type: UUID
      graphql_type: ID
      description: "Unique schema identifier"
      required: true
    nationCode:
      name: nationCode
      data_type: string
      graphql_type: String
      description: "Nation code this schema applies to"
      required: true
      searchable: true
      summary_priority: 10
    toNatoUnclassified:
      name: toNatoUnclassified
      data_type: string
      graphql_type: String
      description: "Nation's term for NATO UNCLASSIFIED"
      required: false
      summary_priority: 8
    toNatoRestricted:
      name: toNatoRestricted
      data_type: string
      graphql_type: String
      description: "Nation's term for NATO RESTRICTED"
      required: false
      summary_priority: 7
    toNatoConfidential:
      name: toNatoConfidential
      data_type: string
      graphql_type: String
      description: "Nation's term for NATO CONFIDENTIAL"
      required: false
      summary_priority: 6
    toNatoSecret:
      name: toNatoSecret
      data_type: string
      graphql_type: String
      description: "Nation's term for NATO SECRET"
      required: false
      summary_priority: 5
    toNatoTopSecret:
      name: toNatoTopSecret
      data_type: string
      graphql_type: String
      description: "Nation's term for COSMIC TOP SECRET"
      required: false
      summary_priority: 4
    version:
      name: version
      data_type: string
      graphql_type: String
      description: "Schema version"
      required: false

  conversion_request:
    id:
      name: id
      data_type: UUID
      graphql_type: ID
      description: "Unique request identifier"
      required: true
    sourceNationCode:
      name: sourceNationCode
      data_type: string
      graphql_type: String
      description: "Source nation code"
      required: true
      searchable: true
      summary_priority: 10
    sourceNationClassification:
      name: sourceNationClassification
      data_type: string
      graphql_type: String
      description: "Source nation's classification term"
      required: true
      searchable: true
      summary_priority: 9
    targetNationCodes:
      name: targetNationCodes
      data_type: array
      graphql_type: [String]
      description: "List of target nation codes"
      required: true
      summary_priority: 8
    createdAt:
      name: createdAt
      data_type: datetime
      graphql_type: DateTime
      description: "Request creation timestamp"
      required: false
      sortable: true
      summary_priority: 7
    completedAt:
      name: completedAt
      data_type: datetime
      graphql_type: DateTime
      description: "Request completion timestamp"
      required: false
      sortable: true
      summary_priority: 6

  conversion_response:
    id:
      name: id
      data_type: UUID
      graphql_type: ID
      description: "Unique response identifier"
      required: true
    natoEquivalent:
      name: natoEquivalent
      data_type: string
      graphql_type: String
      description: "NATO equivalent classification"
      required: true
      searchable: true
      summary_priority: 10
    targetNationClassifications:
      name: targetNationClassifications
      data_type: object
      graphql_type: JSON
      description: "Map of target nation codes to their classification terms"
      required: true
      summary_priority: 9
    createdAt:
      name: createdAt
      data_type: datetime
      graphql_type: DateTime
      description: "Response creation timestamp"
      required: false
    expiresAt:
      name: expiresAt
      data_type: datetime
      graphql_type: DateTime
      description: "Response expiration timestamp"
      required: false
      sortable: true

# Relationships between entities
relationships:
  - name: request_to_response
    from_entity: conversion_request
    to_entity: conversion_response
    relation_type: one_to_one
    graphql_field: response
    description: "Each conversion request may have one response"

  - name: request_to_nation
    from_entity: conversion_request
    to_entity: nation
    relation_type: many_to_one
    graphql_field: sourceNationCode
    description: "Each request has one source nation"

  - name: schema_to_nation
    from_entity: classification_schema
    to_entity: nation
    relation_type: many_to_one
    graphql_field: nationCode
    description: "Each schema applies to one nation"

# Vocabulary for natural language understanding
vocabulary:
  entity_synonyms:
    nation:
      - nation
      - country
      - member
      - state
      - ally
    classification_schema:
      - schema
      - classification schema
      - mapping
      - conversion table
      - terminology
      - classification levels
    conversion_request:
      - request
      - conversion request
      - classification request
      - conversion
      - request
      - submission
    conversion_response:
      - response
      - conversion response
      - result
      - conversion result
      - answer

  # Value mappings for entity IDs (maps user-friendly names to API codes)
  value_mappings:
    nation_code:
      "united states": "USA"
      "usa": "USA"
      "us": "USA"
      "america": "USA"
      "united kingdom": "GBR"
      "uk": "GBR"
      "britain": "GBR"
      "great britain": "GBR"
      "england": "GBR"
      "france": "FRA"
      "germany": "DEU"
      "deutschland": "DEU"
      "poland": "POL"
      "polska": "POL"
      "canada": "CAN"
      "italy": "ITA"
      "italia": "ITA"
      "spain": "ESP"
      "españa": "ESP"
      "netherlands": "NLD"
      "holland": "NLD"
      "belgium": "BEL"
      "belgië": "BEL"

  classification_levels:
    unclassified:
      - unclassified
      - public
      - open
      - unrestricted
    restricted:
      - restricted
      - limited
    confidential:
      - confidential
      - classified
    secret:
      - secret
      - top secret
      - classified secret
    top_secret:
      - top secret
      - cosmic top secret
      - cts
      - highest classification

  action_synonyms:
    find:
      - find
      - get
      - show
      - list
      - display
      - retrieve
      - fetch
      - lookup
      - search
      - query
    convert:
      - convert
      - translate
      - transform
      - map
      - change
      - convert classification
    check:
      - check
      - verify
      - look up
      - see
      - view
    submit:
      - submit
      - create
      - request
      - send
      - file

  qualifier_synonyms:
    pending:
      - pending
      - incomplete
      - in progress
      - active
    completed:
      - completed
      - done
      - finished
      - processed
    active:
      - active
      - valid
      - current
      - non-expired
    expired:
      - expired
      - invalid
      - old

# Query patterns specific to NATO domain
query_patterns:
  - pattern: "classification schema for [nation]"
    template_hint: get_classification_schema
    description: "Get classification schema for a specific nation"

  - pattern: "convert [classification] from [nation] to [nation]"
    template_hint: submit_conversion_request
    description: "Convert a classification between nations"

  - pattern: "pending conversion requests"
    template_hint: get_pending_requests
    description: "Get pending conversion requests"

  - pattern: "conversion requests"
    template_hint: get_conversion_requests
    description: "Get all conversion requests"

# Metadata
metadata:
  generated_at: "2024-11-25T00:00:00Z"
  generator_version: "1.0.0"
  auto_generated: false
  source: "NATO Classification Conversion GraphQL API"
  api_documentation: "https://security-converter.obrienlabs.dev/"

