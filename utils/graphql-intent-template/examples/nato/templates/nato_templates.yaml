# NATO Classification Conversion GraphQL API Templates
# Intent-based templates for querying NATO classification conversion data via GraphQL

status: completed
generated_at: '2024-11-25T00:00:00Z'
generator_version: 1.0.0
total_templates: 8

templates:
  # ============================================
  # NATION QUERIES
  # ============================================

  - id: get_nations
    version: "1.0.0"
    description: "Get all NATO member nations"
    category: nation_queries
    complexity: simple

    graphql_type: query
    operation_name: GetNations
    graphql_template: |
      query GetNations {
        nations {
          id
          nationCode
          nationName
        }
      }

    parameters: []

    nl_examples:
      - "Show me all NATO nations"
      - "List member nations"
      - "What nations are in NATO?"
      - "Display all countries"
      - "Get NATO member states"
      - "Show available nations"
      - "List all nations"

    semantic_tags:
      action: list
      primary_entity: nation
      qualifiers:
        - all
        - multiple

    response_mapping:
      items_path: "data.nations"
      fields:
        - name: code
          path: "$.nationCode"
          type: string
        - name: name
          path: "$.nationName"
          type: string

    display_fields: [code, name]
    result_format: table

    tags:
      - nation
      - list
      - members
    approved: true

  # ============================================
  # CLASSIFICATION SCHEMA QUERIES
  # ============================================

  - id: get_classification_schema
    version: "1.0.0"
    description: "Get classification schema for a specific nation"
    category: schema_queries
    complexity: simple

    graphql_type: query
    operation_name: GetClassificationSchema
    graphql_template: |
      query GetClassificationSchema($nationCode: String!) {
        classificationSchemasByNationCode(nationCode: $nationCode) {
          id
          nationCode
          toNatoUnclassified
          toNatoRestricted
          toNatoConfidential
          toNatoSecret
          toNatoTopSecret
          version
        }
      }

    parameters:
      - name: nationCode
        type: string
        graphql_type: String!
        description: "Nation code (e.g., USA, GBR, FRA)"
        required: true
        location: variable
        example: "USA"
        aliases:
          - nation
          - country
          - country_code
          - code

    nl_examples:
      - "Show me the classification schema for USA"
      - "Get classification levels for United Kingdom"
      - "What are the classification terms for France?"
      - "Display classification schema for Germany"
      - "Show me Poland's classification terminology"
      - "Get classification mapping for USA"
      - "What classification levels does GBR use?"
      - "Classification schema for Canada"

    semantic_tags:
      action: get
      primary_entity: classification_schema
      qualifiers:
        - single
        - by_nation
        - detailed

    response_mapping:
      items_path: "data.classificationSchemasByNationCode"
      fields:
        - name: nation_code
          path: "$.nationCode"
          type: string
        - name: unclassified
          path: "$.toNatoUnclassified"
          type: string
        - name: restricted
          path: "$.toNatoRestricted"
          type: string
        - name: confidential
          path: "$.toNatoConfidential"
          type: string
        - name: secret
          path: "$.toNatoSecret"
          type: string
        - name: top_secret
          path: "$.toNatoTopSecret"
          type: string
        - name: version
          path: "$.version"
          type: string

    display_fields: [nation_code, unclassified, restricted, confidential, secret, top_secret]
    result_format: list

    tags:
      - schema
      - classification
      - nation
    approved: true

  # ============================================
  # CONVERSION REQUEST QUERIES
  # ============================================

  - id: get_conversion_requests
    version: "1.0.0"
    description: "Get all conversion requests"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetConversionRequests
    graphql_template: |
      query GetConversionRequests {
        conversionRequests {
          id
          sourceNationCode
          sourceNationClassification
          targetNationCodes
          createdAt
          completedAt
          creator {
            name
            email
          }
        }
      }

    parameters: []

    nl_examples:
      - "Show me all conversion requests"
      - "List conversion requests"
      - "Get all classification conversion requests"
      - "Display conversion history"
      - "Show conversion requests"
      - "What conversion requests are there?"
      - "Get all requests"

    semantic_tags:
      action: list
      primary_entity: conversion_request
      qualifiers:
        - all
        - multiple
        - historical

    response_mapping:
      items_path: "data.conversionRequests"
      fields:
        - name: id
          path: "$.id"
          type: string
        - name: source_nation
          path: "$.sourceNationCode"
          type: string
        - name: source_classification
          path: "$.sourceNationClassification"
          type: string
        - name: target_nations
          path: "$.targetNationCodes"
          type: array
        - name: created_at
          path: "$.createdAt"
          type: datetime
        - name: completed_at
          path: "$.completedAt"
          type: datetime
        - name: creator
          path: "$.creator.name"
          type: string

    display_fields: [id, source_nation, source_classification, target_nations, created_at, completed_at]
    result_format: table

    tags:
      - conversion
      - request
      - list
    approved: true

  - id: get_conversion_request_by_id
    version: "1.0.0"
    description: "Get details of a specific conversion request by ID"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetConversionRequestById
    graphql_template: |
      query GetConversionRequestById($id: ID!) {
        conversionRequestById(id: $id) {
          id
          sourceNationCode
          sourceNationClassification
          targetNationCodes
          createdAt
          completedAt
          dataObject {
            title
            description
          }
          metadata {
            domain
            tags
          }
        }
      }

    parameters:
      - name: id
        type: string
        graphql_type: ID!
        description: "Conversion request ID"
        required: true
        location: variable
        example: "550e8400-e29b-41d4-a716-446655440000"

    nl_examples:
      - "Get conversion request with ID 550e8400-e29b-41d4-a716-446655440000"
      - "Show me details for request 550e8400-e29b-41d4-a716-446655440000"
      - "Find conversion request by ID"
      - "What are the details of request 550e8400-e29b-41d4-a716-446655440000"

    semantic_tags:
      action: get
      primary_entity: conversion_request
      qualifiers:
        - single
        - by_id
        - detailed

    response_mapping:
      items_path: "data.conversionRequestById"
      fields:
        - name: id
          path: "$.id"
        - name: source_nation
          path: "$.sourceNationCode"
        - name: source_classification
          path: "$.sourceNationClassification"
        - name: target_nations
          path: "$.targetNationCodes"
        - name: title
          path: "$.dataObject.title"
        - name: description
          path: "$.dataObject.description"

    display_fields: [id, source_nation, source_classification, target_nations, title]
    result_format: list

    tags:
      - conversion
      - request
      - single
      - details
    approved: true

  - id: get_pending_conversion_requests
    version: "1.0.0"
    description: "Get pending (incomplete) conversion requests"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetPendingConversionRequests
    graphql_template: |
      query GetPendingConversionRequests {
        conversionRequestsPending {
          id
          sourceNationCode
          createdAt
        }
      }

    parameters: []

    nl_examples:
      - "Show me pending conversion requests"
      - "Get incomplete requests"
      - "List pending conversions"
      - "What requests are still pending?"
      - "Show unfinished conversion requests"
      - "Get requests that haven't been completed"

    semantic_tags:
      action: list
      primary_entity: conversion_request
      qualifiers:
        - pending
        - incomplete
        - active

    response_mapping:
      items_path: "data.conversionRequestsPending"
      fields:
        - name: id
          path: "$.id"
          type: string
        - name: source_nation
          path: "$.sourceNationCode"
          type: string
        - name: created_at
          path: "$.createdAt"
          type: datetime

    display_fields: [id, source_nation, created_at]
    result_format: table

    tags:
      - conversion
      - request
      - pending
    approved: true

  # ============================================
  # CONVERSION RESPONSE QUERIES
  # ============================================

  - id: get_conversion_responses
    version: "1.0.0"
    description: "Get all conversion responses"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetConversionResponses
    graphql_template: |
      query GetConversionResponses {
        conversionResponses {
          id
          natoEquivalent
          targetNationClassifications
          createdAt
          expiresAt
        }
      }

    parameters: []

    nl_examples:
      - "Show me all conversion responses"
      - "List conversion results"
      - "Get all conversion responses"
      - "Display conversion results"
      - "Show conversion responses"

    semantic_tags:
      action: list
      primary_entity: conversion_response
      qualifiers:
        - all
        - multiple

    response_mapping:
      items_path: "data.conversionResponses"
      fields:
        - name: id
          path: "$.id"
          type: string
        - name: nato_equivalent
          path: "$.natoEquivalent"
          type: string
        - name: target_classifications
          path: "$.targetNationClassifications"
          type: object
        - name: created_at
          path: "$.createdAt"
          type: datetime
        - name: expires_at
          path: "$.expiresAt"
          type: datetime

    display_fields: [id, nato_equivalent, target_classifications, created_at, expires_at]
    result_format: table

    tags:
      - conversion
      - response
      - list
    approved: true

  - id: get_active_conversion_responses
    version: "1.0.0"
    description: "Get active (non-expired) conversion responses"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetActiveConversionResponses
    graphql_template: |
      query GetActiveConversionResponses {
        conversionResponsesActive {
          id
          natoEquivalent
          expiresAt
        }
      }

    parameters: []

    nl_examples:
      - "Show me active conversion responses"
      - "Get non-expired responses"
      - "List valid conversion responses"
      - "What responses are still active?"
      - "Show current conversion responses"
      - "Get responses that haven't expired"

    semantic_tags:
      action: list
      primary_entity: conversion_response
      qualifiers:
        - active
        - valid
        - non-expired
        - current

    response_mapping:
      items_path: "data.conversionResponsesActive"
      fields:
        - name: id
          path: "$.id"
          type: string
        - name: nato_equivalent
          path: "$.natoEquivalent"
          type: string
        - name: expires_at
          path: "$.expiresAt"
          type: datetime

    display_fields: [id, nato_equivalent, expires_at]
    result_format: table

    tags:
      - conversion
      - response
      - active
    approved: true

  - id: get_conversion_response_by_request_id
    version: "1.0.0"
    description: "Get conversion response by request ID"
    category: conversion_queries
    complexity: simple

    graphql_type: query
    operation_name: GetConversionResponseByRequestId
    graphql_template: |
      query GetConversionResponseByRequestId($requestId: ID!) {
        conversionResponsesByRequestId(requestId: $requestId) {
          id
          natoEquivalent
          targetNationClassifications
          subjectData {
            title
          }
        }
      }

    parameters:
      - name: requestId
        type: string
        graphql_type: ID!
        description: "Conversion request ID"
        required: true
        location: variable
        example: "550e8400-e29b-41d4-a716-446655440000"
        aliases:
          - request_id
          - id

    nl_examples:
      - "Get conversion response for request 550e8400-e29b-41d4-a716-446655440000"
      - "Show me the response for request ID 550e8400-e29b-41d4-a716-446655440000"
      - "What is the conversion result for request 550e8400-e29b-41d4-a716-446655440000"
      - "Get response by request ID"

    semantic_tags:
      action: get
      primary_entity: conversion_response
      qualifiers:
        - single
        - by_request_id

    response_mapping:
      items_path: "data.conversionResponsesByRequestId"
      fields:
        - name: id
          path: "$.id"
        - name: nato_equivalent
          path: "$.natoEquivalent"
        - name: target_classifications
          path: "$.targetNationClassifications"
        - name: title
          path: "$.subjectData.title"

    display_fields: [id, nato_equivalent, target_classifications, title]
    result_format: list

    tags:
      - conversion
      - response
      - single
    approved: true

